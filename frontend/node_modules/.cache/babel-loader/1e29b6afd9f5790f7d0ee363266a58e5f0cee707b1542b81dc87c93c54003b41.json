{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kanha\\\\Downloads\\\\leave-management-starter-full\\\\frontend\\\\src\\\\pages\\\\EmployeeDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport API from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmployeeDashboard() {\n  _s();\n  const [balance, setBalance] = useState(0);\n  const [leaves, setLeaves] = useState([]);\n  const [start, setStart] = useState('');\n  const [end, setEnd] = useState('');\n  const [reason, setReason] = useState('');\n  const [msg, setMsg] = useState('');\n  const fetch = async () => {\n    try {\n      const b = await API.get('/leave/balance');\n      setBalance(b.data.leaveBalance);\n      const L = await API.get('/leave/my');\n      setLeaves(L.data);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  useEffect(() => {\n    fetch();\n  }, []);\n  const apply = async e => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      await API.post('/leave/apply', {\n        startDate: start,\n        endDate: end,\n        reason\n      });\n      setMsg('Leave applied');\n      setStart('');\n      setEnd('');\n      setReason('');\n      fetch();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setMsg(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || 'Error');\n    }\n  };\n  const logout = () => {\n    localStorage.clear();\n    window.location.href = '/login';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Employee Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Leave Balance: \", balance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: apply,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: start,\n          onChange: e => setStart(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: end,\n          onChange: e => setEnd(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: reason,\n          onChange: e => setReason(e.target.value),\n          placeholder: \"Reason\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Apply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"msg\",\n        children: msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"My Leaves\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"From\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 35\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 46\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 59\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: leaves.map(l => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(l.startDate).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: new Date(l.endDate).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 84\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: l.days\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 135\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: l.status\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 152\n            }, this)]\n          }, l._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeDashboard, \"mofV3gNgmj0a/a0UGFDR5AqaGO8=\");\n_c = EmployeeDashboard;\nvar _c;\n$RefreshReg$(_c, \"EmployeeDashboard\");","map":{"version":3,"names":["React","useEffect","useState","API","jsxDEV","_jsxDEV","EmployeeDashboard","_s","balance","setBalance","leaves","setLeaves","start","setStart","end","setEnd","reason","setReason","msg","setMsg","fetch","b","get","data","leaveBalance","L","e","console","error","apply","preventDefault","post","startDate","endDate","err","_err$response","_err$response$data","response","logout","localStorage","clear","window","location","href","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","value","onChange","target","required","placeholder","map","l","Date","toLocaleDateString","days","status","_id","_c","$RefreshReg$"],"sources":["C:/Users/kanha/Downloads/leave-management-starter-full/frontend/src/pages/EmployeeDashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport API from '../services/api';\n\nexport default function EmployeeDashboard() {\n  const [balance, setBalance] = useState(0);\n  const [leaves, setLeaves] = useState([]);\n  const [start, setStart] = useState('');\n  const [end, setEnd] = useState('');\n  const [reason, setReason] = useState('');\n  const [msg, setMsg] = useState('');\n\n  const fetch = async () => {\n    try {\n      const b = await API.get('/leave/balance');\n      setBalance(b.data.leaveBalance);\n      const L = await API.get('/leave/my');\n      setLeaves(L.data);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => { fetch(); }, []);\n\n  const apply = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      await API.post('/leave/apply', { startDate: start, endDate: end, reason });\n      setMsg('Leave applied');\n      setStart(''); setEnd(''); setReason('');\n      fetch();\n    } catch (err) {\n      setMsg(err.response?.data?.msg || 'Error');\n    }\n  };\n\n  const logout = () => { localStorage.clear(); window.location.href = '/login'; };\n\n  return (\n    <div className=\"container\">\n      <header>\n        <h2>Employee Dashboard</h2>\n        <button onClick={logout}>Logout</button>\n      </header>\n      <section className=\"card\">\n        <h3>Leave Balance: {balance}</h3>\n        <form onSubmit={apply}>\n          <input type=\"date\" value={start} onChange={e=>setStart(e.target.value)} required />\n          <input type=\"date\" value={end} onChange={e=>setEnd(e.target.value)} required />\n          <input value={reason} onChange={e=>setReason(e.target.value)} placeholder=\"Reason\" />\n          <button type=\"submit\">Apply</button>\n        </form>\n        {msg && <div className=\"msg\">{msg}</div>}\n      </section>\n      <section className=\"card\">\n        <h3>My Leaves</h3>\n        <table>\n          <thead><tr><th>From</th><th>To</th><th>Days</th><th>Status</th></tr></thead>\n          <tbody>\n            {leaves.map(l=> (\n              <tr key={l._id}><td>{new Date(l.startDate).toLocaleDateString()}</td><td>{new Date(l.endDate).toLocaleDateString()}</td><td>{l.days}</td><td>{l.status}</td></tr>\n            ))}\n          </tbody>\n        </table>\n      </section>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}